(self.webpackChunktask_shop=self.webpackChunktask_shop||[]).push([[233],{2233:(e,o,r)=>{"use strict";r.r(o),r.d(o,{UserModule:()=>q});var t=r(8583),n=r(665),i=r(4330),s=r(7716);let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-user-aside"]],decls:5,vars:0,consts:[[1,"container-xxl"],[1,"row"],[1,"col-12"],[1,"h2"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"h2",3),s._uU(4,"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"),s.qZA(),s.qZA(),s.qZA(),s.qZA())},styles:[""]}),e})();const l=function(e,o){return{"is-invalid":e,"is-valid":o}};function c(e,o){if(1&e&&(s.TgZ(0,"div",8),s._UZ(1,"input",9),s.TgZ(2,"label",10),s._uU(3),s.qZA(),s.TgZ(4,"div",11),s._uU(5,"Looks good!"),s.qZA(),s.TgZ(6,"div",12),s._uU(7),s.qZA(),s.qZA()),2&e){const e=o.$implicit,r=s.oxw();s.xp6(1),s.Q6J("ngClass",s.WLB(8,l,r.authForm.controls[e].invalid&&r.authForm.controls[e].touched,r.authForm.controls[e].valid))("formControlName",e)("placeholder",e)("name",e)("type","timeToDeliver"===e?"datetime-local":"text"),s.xp6(1),s.Q6J("for",e),s.xp6(1),s.Oqu(e),s.xp6(4),s.hij("Please enter a ",e,"")}}let m=(()=>{class e{constructor(e){this.router=e,this.fields=["login","password"],this.authForm=new n.cw({login:new n.NI("",[n.kI.required,n.kI.pattern("^[A-Za-z0-9]{3,40}$")]),password:new n.NI("",[n.kI.required,n.kI.pattern("^[A-Za-z0-9]{8,20}$")])})}submit(){console.log(this.authForm.value)}goUserPage(e){this.router.navigate([`user/${e}`])}}return e.\u0275fac=function(o){return new(o||e)(s.Y36(i.F0))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-user-auth"]],decls:11,vars:3,consts:[[1,"container-xxl"],[1,"row"],[1,"h2","col-12","col-md-8","mx-auto","mb-4"],["novalidate","",1,"col-12","col-md-8","mx-auto",3,"formGroup","ngSubmit"],["class","form-floating mb-2",4,"ngFor","ngForOf"],[1,"form-group"],[1,"btn","btn-danger","mt-3","me-3",3,"disabled"],[1,"btn","btn-link","mt-3",3,"click"],[1,"form-floating","mb-2"],[1,"form-control",3,"ngClass","formControlName","placeholder","name","type"],[3,"for"],[1,"valid-feedback"],[1,"invalid-feedback"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"h2",2),s._uU(3,"\u0412\u0445\u043e\u0434 \u0432 \u0410\u043a\u043a\u0430\u0443\u043d\u0442"),s.qZA(),s.TgZ(4,"form",3),s.NdJ("ngSubmit",function(){return o.submit()}),s.YNc(5,c,8,11,"div",4),s.TgZ(6,"div",5),s.TgZ(7,"button",6),s._uU(8," \u0412\u0445\u043e\u0434 "),s.qZA(),s.TgZ(9,"button",7),s.NdJ("click",function(){return o.goUserPage("register")}),s._uU(10," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(4),s.Q6J("formGroup",o.authForm),s.xp6(1),s.Q6J("ngForOf",o.fields),s.xp6(2),s.Q6J("disabled",o.authForm.invalid))},directives:[n._Y,n.JL,n.sg,t.sg,n.Fj,t.mk,n.JJ,n.u],styles:[".btn-danger[_ngcontent-%COMP%]{padding:.375rem 1.75rem;background-color:#ff4c3b}.btn-link[_ngcontent-%COMP%]{color:#ff4c3b}.btn-link[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .25rem #ff4c3b40}"]}),e})();var d=r(8386);const u=function(e,o){return{"is-invalid":e,"is-valid":o}};function g(e,o){if(1&e&&(s.TgZ(0,"div",8),s._UZ(1,"input",9),s.TgZ(2,"div",5),s._uU(3),s.qZA(),s.qZA()),2&e){const e=o.$implicit,r=s.oxw();s.xp6(1),s.Q6J("formControlName",e)("name",e)("type","timeToDeliver"===e?"datetime-local":"text")("placeholder",e)("ngClass",s.WLB(6,u,r.orderForm.controls[e].invalid&&r.orderForm.controls[e].touched,r.orderForm.controls[e].valid)),s.xp6(2),s.hij("Please enter a valid ",e,"")}}let p=(()=>{class e{constructor(){this.fields=["name","address","phone","timeToDeliver"],this.orderForm=new n.cw({name:new n.NI("",[n.kI.required,n.kI.pattern("^[A-Za-z\u0410-\u042f\u0430-\u044f]{3,50}$")]),address:new n.NI("",[n.kI.required,n.kI.pattern("^[A-Za-z\u0410-\u042f\u0430-\u044f]{3,250}$")]),phone:new n.NI("",[n.kI.required,n.kI.pattern("^[+][0-9]{1,3}[0-9]{1,4}[0-9]{3}[0-9]{2}[0-9]{2}$")]),timeToDeliver:new n.NI("",n.kI.required),comment:new n.NI("",n.kI.maxLength(250))})}submit(){console.log(this.orderForm.value)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-user-order-form"]],decls:11,vars:4,consts:[["novalidate","",1,"col-12","col-md-8","col-lg-6",3,"formGroup","ngSubmit"],["class","form-group mb-2",4,"ngFor","ngForOf"],[1,"form-floating","mb-2"],["formControlName","comment","name","comment","placeholder","comment",1,"form-control",2,"height","100px",3,"ngClass"],["for","comment"],[1,"invalid-feedback"],[1,"form-group"],[1,"btn","btn-danger","mt-3","me-3",3,"disabled"],[1,"form-group","mb-2"],[1,"form-control",3,"formControlName","name","type","placeholder","ngClass"]],template:function(e,o){1&e&&(s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return o.submit()}),s.YNc(1,g,4,9,"div",1),s.TgZ(2,"div",2),s._UZ(3,"textarea",3),s.TgZ(4,"label",4),s._uU(5,"Enter your comment here"),s.qZA(),s.TgZ(6,"div",5),s._uU(7,"Max comment length is 250 simbols"),s.qZA(),s.qZA(),s.TgZ(8,"div",6),s.TgZ(9,"button",7),s._uU(10," \u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437 "),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.Q6J("formGroup",o.orderForm),s.xp6(1),s.Q6J("ngForOf",o.fields),s.xp6(2),s.Q6J("ngClass",o.orderForm.controls.comment.valid?"is-valid":"is-invalid"),s.xp6(6),s.Q6J("disabled",o.orderForm.invalid))},directives:[n._Y,n.JL,n.sg,t.sg,n.Fj,n.JJ,n.u,t.mk],styles:[".btn-danger[_ngcontent-%COMP%]{padding:.375rem 1.75rem;background-color:#ff4c3b}"]}),e})(),f=(()=>{class e{constructor(e){this.userService=e}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)(s.Y36(d.K))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-user-order"]],decls:6,vars:0,consts:[[1,"container-xxl","order"],[1,"row"],[1,"col-12"],[1,"h2"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"h2",3),s._uU(4,"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"),s.qZA(),s._UZ(5,"app-user-order-form"),s.qZA(),s.qZA(),s.qZA())},directives:[p],styles:[".order__img[_ngcontent-%COMP%]{height:5rem;min-width:5rem;object-fit:contain}.order[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{vertical-align:middle}"]}),e})();const Z=function(e,o){return{"is-invalid":e,"is-valid":o}};function v(e,o){if(1&e&&(s.TgZ(0,"div",7),s._UZ(1,"input",8),s.TgZ(2,"label",9),s._uU(3),s.qZA(),s.TgZ(4,"div",10),s._uU(5,"Looks good!"),s.qZA(),s.TgZ(6,"div",11),s._uU(7),s.qZA(),s.qZA()),2&e){const e=o.$implicit,r=s.oxw();s.xp6(1),s.Q6J("ngClass",s.WLB(8,Z,r.registForm.controls[e].invalid&&r.registForm.controls[e].touched,r.registForm.controls[e].valid))("formControlName",e)("placeholder",e)("name",e)("type","timeToDeliver"===e?"datetime-local":"text"),s.xp6(1),s.Q6J("for",e),s.xp6(1),s.Oqu(e),s.xp6(4),s.hij("Please enter a ",e,"")}}const b=[{path:"auth",component:m},{path:"register",component:(()=>{class e{constructor(e,o){this.router=e,this.userService=o,this.fields=["firstName","lastName","login","password"],this.registForm=new n.cw({firstName:new n.NI("",[n.kI.required,n.kI.pattern("^[A-Za-z\u0410-\u042f\u0430-\u044f]{3,40}$")]),lastName:new n.NI("",[n.kI.required,n.kI.pattern("^[A-Za-z\u0410-\u042f\u0430-\u044f]{3,40}$")]),login:new n.NI("",[n.kI.required,n.kI.pattern("^[A-Za-z0-9]{3,40}$")]),password:new n.NI("",[n.kI.required,n.kI.pattern("^[A-Za-z0-9]{8,20}$")])})}submit(){const e=this.registForm.value;console.log(this.registForm.value),this.userService.registerNewUser(e).subscribe(o=>{console.log(o),this.userService.loginUser({login:e.login,password:e.password}).subscribe(e=>{console.log(e),this.userService.getCurrentUser().subscribe(e=>console.log(e))})})}}return e.\u0275fac=function(o){return new(o||e)(s.Y36(i.F0),s.Y36(d.K))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-user-registration"]],decls:9,vars:3,consts:[[1,"container-xxl"],[1,"row"],[1,"h2","col-12","col-md-8","mx-auto","mb-4"],["novalidate","",1,"col-12","col-md-8","mx-auto",3,"formGroup","ngSubmit"],["class","form-floating mb-2",4,"ngFor","ngForOf"],[1,"form-group"],[1,"btn","btn-danger","mt-3","me-3",3,"disabled"],[1,"form-floating","mb-2"],[1,"form-control",3,"ngClass","formControlName","placeholder","name","type"],[3,"for"],[1,"valid-feedback"],[1,"invalid-feedback"]],template:function(e,o){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"h2",2),s._uU(3,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),s.qZA(),s.TgZ(4,"form",3),s.NdJ("ngSubmit",function(){return o.submit()}),s.YNc(5,v,8,11,"div",4),s.TgZ(6,"div",5),s.TgZ(7,"button",6),s._uU(8," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(4),s.Q6J("formGroup",o.registForm),s.xp6(1),s.Q6J("ngForOf",o.fields),s.xp6(2),s.Q6J("disabled",o.registForm.invalid))},directives:[n._Y,n.JL,n.sg,t.sg,n.Fj,t.mk,n.JJ,n.u],styles:[".btn-danger[_ngcontent-%COMP%]{background-color:#ff4c3b}.btn-link[_ngcontent-%COMP%]{color:#ff4c3b}.btn-link[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .25rem #ff4c3b40}"]}),e})()},{path:"order",component:f},{path:"aside",component:a}];let h=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.Bz.forChild(b)],i.Bz]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[t.ez,n.UX,h]]}),e})()}}]);