(self.webpackChunktask_shop=self.webpackChunktask_shop||[]).push([[178],{4178:(t,e,i)=>{"use strict";i.r(e),i.d(e,{StoreModule:()=>A});var o=i(8583),n=i(4330),r=i(7716),s=i(9471);function a(t,e){if(1&t&&(r.TgZ(0,"h1",8),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.activeCategory.name)}}function c(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",11),r.NdJ("click",function(){const e=r.CHM(t).$implicit,i=r.oxw(2);return i.goCategoryPage(i.activeCategory.id,e.id)}),r._uU(1),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.name," ")}}function g(t,e){if(1&t&&(r.TgZ(0,"ul",9),r.YNc(1,c,2,1,"li",10),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.activeCategory.subCategories)}}const l=function(t){return{active:t}};function u(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",12),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().goCategoryPage(e.id)})("mouseover",function(){const e=r.CHM(t).$implicit;return r.oxw().makeCategoryActive(e)}),r._uU(1),r.qZA()}if(2&t){const t=e.$implicit,i=r.oxw();r.Q6J("ngClass",r.VKq(2,l,t===i.activeCategory)),r.xp6(1),r.hij(" ",t.name," ")}}let d=(()=>{class t{constructor(t,e){this.appData=t,this.router=e,this.categories=[]}ngOnInit(){this.appData.getCategories().subscribe(t=>{this.categories=t,this.activeCategory=t[0]})}makeCategoryActive(t){this.activeCategory=t}goCategoryPage(t,e){e&&this.router.navigate([`store/goods/${t}/${e}`]),e||this.router.navigate([`store/goods/${t}`])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.U),r.Y36(n.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-categories-page"]],decls:8,vars:3,consts:[[1,"container-xxl"],[1,"row"],["class","mb-4",4,"ngIf"],[1,"col-md-8"],["class","subcategories-list list-group list-group-flush",4,"ngIf"],[1,"col-md-4"],[1,"list-group"],["class","list-group-item",3,"ngClass","click","mouseover",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"subcategories-list","list-group","list-group-flush"],["class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"],[1,"list-group-item",3,"ngClass","click","mouseover"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.YNc(2,a,2,1,"h1",2),r.TgZ(3,"div",3),r.YNc(4,g,2,1,"ul",4),r.qZA(),r.TgZ(5,"div",5),r.TgZ(6,"ul",6),r.YNc(7,u,2,4,"li",7),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngIf",e.activeCategory),r.xp6(2),r.Q6J("ngIf",e.activeCategory),r.xp6(3),r.Q6J("ngForOf",e.categories))},directives:[o.O5,o.sg,o.mk],styles:[".list-group-item.active[_ngcontent-%COMP%]{font-weight:700;background-color:#ff4c3b;border-color:#ff4c3b}.list-group-item[_ngcontent-%COMP%]{cursor:pointer}.subcategories-list[_ngcontent-%COMP%]{min-height:60vh}.subcategories-list[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]{position:relative;z-index:1;transition:all .1s ease-in}.subcategories-list[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:hover{z-index:2;border-left:.5rem solid #ff4c3b;box-shadow:0 0 8px #00000026;transform:scale(1.03)}"]}),t})();function m(t,e){1&t&&(r.O4$(),r.TgZ(0,"svg",3),r._UZ(1,"path",4),r.qZA())}function h(t,e){1&t&&(r.O4$(),r.TgZ(0,"svg",5),r._UZ(1,"path",6),r.qZA())}let p=(()=>{class t{constructor(){this.rating=0}generateStars(t){return new Array(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-good-rating"]],inputs:{rating:"rating"},decls:3,vars:2,consts:[[1,"raiting"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-star-fill me-1","viewBox","0 0 16 16",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-star me-1","viewBox","0 0 16 16",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-star-fill","me-1"],["d","M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-star","me-1"],["d","M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.YNc(1,m,2,0,"svg",1),r.YNc(2,h,2,0,"svg",2),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngForOf",e.generateStars(e.rating)),r.xp6(1),r.Q6J("ngForOf",e.generateStars(5-e.rating)))},directives:[o.sg],styles:[".raiting[_ngcontent-%COMP%]{color:#ff4c3b}"]}),t})();function f(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",4),r.NdJ("click",function(){return r.CHM(t),r.oxw().goCategoryPage()}),r._uU(1),r.ALo(2,"titlecase"),r.qZA()}if(2&t){const t=r.oxw();r.xp6(1),r.hij(" ",r.lcZ(2,1,t.routeParams.catId.split("-").join(" "))," ")}}function b(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",4),r.NdJ("click",function(){return r.CHM(t),r.oxw().goSubCategoryPage()}),r._uU(1),r.ALo(2,"titlecase"),r.qZA()}if(2&t){const t=r.oxw();r.xp6(1),r.hij(" ",r.lcZ(2,1,t.routeParams.subCatId.split("-").join(" "))," ")}}function _(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"img",21),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().goGoodsPage(e.id)}),r.qZA()}if(2&t){const t=r.oxw().$implicit;r.Q6J("alt",t.name)}}function Z(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"img",22),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().goGoodsPage(e.id)}),r.qZA()}if(2&t){const t=r.oxw().$implicit;r.Q6J("src",t.imageUrls[0],r.LSH)("alt",t.name)}}function v(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",10),r.TgZ(1,"div",11),r.YNc(2,_,1,1,"img",12),r.YNc(3,Z,1,2,"img",13),r.TgZ(4,"div",14),r._UZ(5,"app-good-rating",15),r.TgZ(6,"p",16),r._uU(7," in stock "),r.qZA(),r.qZA(),r.TgZ(8,"h5",17),r._uU(9),r.ALo(10,"currency"),r.qZA(),r.TgZ(11,"h6",18),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().goGoodsPage(e.id)}),r._uU(12),r.qZA(),r.TgZ(13,"div",19),r.TgZ(14,"button",20),r._uU(15,"\u041a\u0443\u043f\u0438\u0442\u044c"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,i=r.oxw();r.xp6(2),r.Q6J("ngIf",0===t.imageUrls.length),r.xp6(1),r.Q6J("ngIf",t.imageUrls[0]),r.xp6(2),r.Q6J("rating",t.rating),r.xp6(1),r.Udp("color",t.availableAmount>16?"#08a75d":t.availableAmount>8?"#ffc107":"#ff4c3b"),r.xp6(3),r.hij(" ",r.xi3(10,7,t.price,"BYN ")," "),r.xp6(3),r.hij(" ",i.cropHeading(t.name)," ")}}let x=(()=>{class t{constructor(t,e,i){this.appData=t,this.router=e,this.route=i,this.counter=1,this.itemsQty=12,this.shopItems=[],this.maxHeadingLength=56,this.isReversed=!1}ngOnInit(){this.routeSubscription=this.route.params.subscribe(t=>{this.routeParams=t,this.counter=1,this.shopItemsSubscription=this.routeParams.subCatId?this.appData.getGoodsBySubcategory(this.routeParams.catId,this.routeParams.subCatId,this.itemsQty*this.counter).subscribe(t=>this.shopItems=t):this.appData.getGoodsByCategory(this.routeParams.catId,this.itemsQty*this.counter).subscribe(t=>this.shopItems=t)})}ngOnDestroy(){this.shopItemsSubscription.unsubscribe(),this.routeSubscription.unsubscribe()}cropHeading(t){return t.length>this.maxHeadingLength?`${t.substring(0,this.maxHeadingLength)}...`:t}slideImages(t){t.imageUrls=t.imageUrls.slice(1).concat(t.imageUrls.slice(0,1))}sortByRating(){this.shopItems.sort((t,e)=>t.rating<e.rating?-1:t.rating>e.rating?1:0),this.isReversed&&this.shopItems.reverse(),this.isReversed=!this.isReversed}sortByPrice(){this.shopItems.sort((t,e)=>t.price<e.price?-1:t.price>e.price?1:0),this.isReversed&&this.shopItems.reverse(),this.isReversed=!this.isReversed}increaseCounter(){this.counter+=1,console.log(this.counter),this.shopItemsSubscription=this.routeParams.subCatId?this.appData.getGoodsBySubcategory(this.routeParams.catId,this.routeParams.subCatId,this.itemsQty*this.counter).subscribe(t=>this.shopItems=t):this.appData.getGoodsByCategory(this.routeParams.catId,this.itemsQty*this.counter).subscribe(t=>this.shopItems=t)}goGoodsPage(t){this.router.navigate([`store/item/${t}`])}goMainPage(){this.router.navigate([""])}goCategoryPage(){this.router.navigate([`store/goods/${this.routeParams.catId}`])}goSubCategoryPage(){this.router.navigate([`store/goods/${this.routeParams.catId}/${this.routeParams.subCatId}`])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.U),r.Y36(n.F0),r.Y36(n.gz))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-category-page"]],decls:17,vars:3,consts:[[1,"container-xxl"],[1,"row"],["aria-label","breadcrumb",1,"col-6"],[1,"breadcrumb"],[1,"breadcrumb-item","btn","btn-link",3,"click"],["class","breadcrumb-item btn btn-link",3,"click",4,"ngIf"],[1,"sort","col-6"],[1,"btn","btn-link",3,"click"],["class","good col-lg-3 col-md-4 col-sm-6 my-3",4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"],[1,"good","col-lg-3","col-md-4","col-sm-6","my-3"],[1,"card","border-light","shadow","p-3"],["class","card-img-top img-fluid mb-3","src","../../../../assets/img-not-found.png",3,"alt","click",4,"ngIf"],["class","card-img-top img-fluid mb-3",3,"src","alt","click",4,"ngIf"],[1,"d-flex","justify-content-between"],[3,"rating"],[1,"fw-bold"],[1,"good__price","h5","fw-bold"],[1,"good__heading","h6",3,"click"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-primary"],["src","../../../../assets/img-not-found.png",1,"card-img-top","img-fluid","mb-3",3,"alt","click"],[1,"card-img-top","img-fluid","mb-3",3,"src","alt","click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"nav",2),r.TgZ(3,"ol",3),r.TgZ(4,"li",4),r.NdJ("click",function(){return e.goMainPage()}),r._uU(5," Home "),r.qZA(),r.YNc(6,f,3,3,"li",5),r.YNc(7,b,3,3,"li",5),r.qZA(),r.qZA(),r.TgZ(8,"div",6),r.TgZ(9,"button",7),r.NdJ("click",function(){return e.sortByRating()}),r._uU(10," \u043f\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438 "),r.qZA(),r.TgZ(11,"button",7),r.NdJ("click",function(){return e.sortByPrice()}),r._uU(12,"\u043f\u043e \u0446\u0435\u043d\u0435"),r.qZA(),r.qZA(),r.YNc(13,v,16,10,"div",8),r.TgZ(14,"div"),r.TgZ(15,"button",9),r.NdJ("click",function(){return e.increaseCounter()}),r._uU(16,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(6),r.Q6J("ngIf",e.routeParams.catId),r.xp6(1),r.Q6J("ngIf",e.routeParams.subCatId),r.xp6(6),r.Q6J("ngForOf",e.shopItems))},directives:[o.O5,o.sg,p],pipes:[o.rS,o.H9],styles:[".btn-outline-danger[_ngcontent-%COMP%]{border-color:#ff4c3b;color:#ff4c3b}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#ee4334;border-color:#ee4334;color:#fff}.btn-link[_ngcontent-%COMP%]{color:#ff4c3b}.btn-link[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #ff4d5640}.sort[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.sort[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{padding:.5rem;font-weight:700;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{padding:0}.good[_ngcontent-%COMP%]{transition:all .1s ease-in}.good__heading[_ngcontent-%COMP%]{line-height:1.5rem;min-height:3rem;margin:0;font-weight:600;transition:all .15s ease-in;cursor:pointer}.good__heading[_ngcontent-%COMP%]:hover{text-decoration:underline}.good[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{max-height:0;padding:0;overflow:hidden;background-color:#ff4c3b;border:#ff4c3b;transition:all .15s ease-in}.good[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#ee4334;border-color:#ee4334}.good[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:15rem;object-fit:contain;-webkit-user-select:none;user-select:none;transition:all .15s ease-in;cursor:pointer}.good[_ngcontent-%COMP%]:hover   .btn-primary[_ngcontent-%COMP%]{max-height:2.25rem;border:1px solid #0000;padding:.375rem .75rem}.good[_ngcontent-%COMP%]:hover   .good__heading[_ngcontent-%COMP%]{margin-bottom:1rem}.good[_ngcontent-%COMP%]:hover   .card-img-top[_ngcontent-%COMP%]{height:11.75rem}"]}),t})();function C(t,e){if(1&t&&r._UZ(0,"img",15),2&t){const t=r.oxw();r.Q6J("alt",t.shopItem.name)}}function w(t,e){if(1&t&&r._UZ(0,"img",16),2&t){const t=r.oxw();r.Q6J("src",t.activeImageUrl,r.LSH)("alt",t.shopItem.name)}}function I(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"img",19),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(2).activateImage(e)}),r.qZA()}2&t&&r.Q6J("src",e.$implicit,r.LSH)}function y(t,e){if(1&t&&(r.TgZ(0,"div",17),r.YNc(1,I,1,1,"img",18),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.shopItem.imageUrls)}}const P=[{path:"categories",component:d},{path:"goods/:catId",component:x},{path:"goods/:catId/:subCatId",component:x},{path:"item/:itemId",component:(()=>{class t{constructor(t,e,i){this.appData=t,this.router=e,this.route=i,this.activeImageUrl=""}ngOnInit(){this.routeSubscription=this.route.params.subscribe(t=>{this.routeParams=t,this.shopItemSubscription=this.appData.getShopItemById(t.itemId).subscribe(t=>{t.imageUrls[0]&&(this.activeImageUrl=t.imageUrls[0]),this.shopItem=t})})}ngOnDestroy(){this.shopItemSubscription.unsubscribe(),this.routeSubscription.unsubscribe()}activateImage(t){this.activeImageUrl=t}showNextImage(){const t=this.shopItem.imageUrls.length,e=this.shopItem.imageUrls.indexOf(this.activeImageUrl);this.activeImageUrl=this.shopItem.imageUrls.slice(e+1<t?e+1:0)[0]}goMainPage(){this.router.navigate([""])}goCategoryPage(){this.router.navigate([`store/goods/${this.routeParams.catId}`])}goSubCategoryPage(){this.router.navigate([`store/goods/${this.routeParams.catId}/${this.routeParams.subCatId}`])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.U),r.Y36(n.F0),r.Y36(n.gz))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-good-page"]],decls:23,vars:10,consts:[[1,"container-xxl"],[1,"row"],[1,"col-md-6","good__gallery"],[1,"good__gallery_wrap","figure",3,"click"],["class","figure-img img-fluid rounded","src","../../../../assets/img-not-found.png",3,"alt",4,"ngIf"],["class","figure-img img-fluid rounded",3,"src","alt",4,"ngIf"],["class","good__gallery_thumbnails",4,"ngIf"],[1,"col-md-6","mt-4"],[1,"h1","fw-bold"],[3,"rating"],[1,"h3","fw-bold","my-4"],[1,"h4","fw-bold"],[1,"d-grid","gap-2","d-md-block"],["type","button",1,"btn","btn-danger","me-3"],["type","button",1,"btn","btn-danger"],["src","../../../../assets/img-not-found.png",1,"figure-img","img-fluid","rounded",3,"alt"],[1,"figure-img","img-fluid","rounded",3,"src","alt"],[1,"good__gallery_thumbnails"],["class","rounded img-thumbnail good__gallery_thumbnail","alt","thumbnail",3,"src","click",4,"ngFor","ngForOf"],["alt","thumbnail",1,"rounded","img-thumbnail","good__gallery_thumbnail",3,"src","click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"figure",3),r.NdJ("click",function(){return e.showNextImage()}),r.YNc(4,C,1,1,"img",4),r.YNc(5,w,1,2,"img",5),r.qZA(),r.YNc(6,y,2,1,"div",6),r.qZA(),r.TgZ(7,"div",7),r.TgZ(8,"h2",8),r._uU(9),r.qZA(),r._UZ(10,"app-good-rating",9),r.TgZ(11,"h3",10),r._uU(12),r.ALo(13,"currency"),r.qZA(),r.TgZ(14,"h4",11),r._uU(15,"Description:"),r.qZA(),r.TgZ(16,"p"),r._uU(17),r.qZA(),r.TgZ(18,"div",12),r.TgZ(19,"button",13),r._uU(20,"add to cart"),r.qZA(),r.TgZ(21,"button",14),r._uU(22,"wishlist"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(4),r.Q6J("ngIf",""===e.activeImageUrl),r.xp6(1),r.Q6J("ngIf",""!==e.activeImageUrl),r.xp6(1),r.Q6J("ngIf",e.shopItem.imageUrls),r.xp6(3),r.Oqu(e.shopItem.name),r.xp6(1),r.Q6J("rating",e.shopItem.rating),r.xp6(2),r.Oqu(r.xi3(13,7,e.shopItem.price,"BYN ")),r.xp6(5),r.Oqu(e.shopItem.description))},directives:[o.O5,p,o.sg],pipes:[o.H9],styles:[".btn-danger[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;background-color:#ee4334;border-color:#ff4c3b}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#ee4334;border-color:#ee4334;color:#fff}.good__gallery[_ngcontent-%COMP%]{display:flex}.good__gallery_wrap[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;order:1;width:100%;height:100%;max-height:34rem;padding:1rem;border-radius:.5rem;background:#fff;transition:all .3s ease-in-out;cursor:pointer}.good__gallery_wrap[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px #00000026}.good__gallery_wrap[_ngcontent-%COMP%] > .figure-img[_ngcontent-%COMP%]{width:100%;height:24rem;object-fit:contain}.good__gallery_thumbnails[_ngcontent-%COMP%]{display:flex;flex-direction:column;order:0;min-width:6rem;margin-right:1rem}.good__gallery_thumbnail[_ngcontent-%COMP%]{width:6rem;height:6rem;margin:.25rem;object-fit:contain;transition:all .3s ease-in-out;cursor:pointer}.good__gallery_thumbnail[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 0 10px #00000040}"]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.Bz.forChild(P)],n.Bz]}),t})(),A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.ez,O]]}),t})()}}]);