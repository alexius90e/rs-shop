(self.webpackChunktask_shop=self.webpackChunktask_shop||[]).push([[178],{4178:(t,e,i)=>{"use strict";i.r(e),i.d(e,{StoreModule:()=>Y});var o=i(8583),n=i(7957),r=i(7716),s=i(9471);function c(t,e){if(1&t&&(r.TgZ(0,"h1",8),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.activeCategory.name)}}function a(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",11),r.NdJ("click",function(){const e=r.CHM(t).$implicit,i=r.oxw(2);return i.goCategoryPage(i.activeCategory.id,e.id)}),r._uU(1),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.hij(" ",t.name," ")}}function g(t,e){if(1&t&&(r.TgZ(0,"ul",9),r.YNc(1,a,2,1,"li",10),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.activeCategory.subCategories)}}const l=function(t){return{active:t}};function u(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",12),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().goCategoryPage(e.id)})("mouseover",function(){const e=r.CHM(t).$implicit;return r.oxw().makeCategoryActive(e)}),r._uU(1),r.qZA()}if(2&t){const t=e.$implicit,i=r.oxw();r.Q6J("ngClass",r.VKq(2,l,t===i.activeCategory)),r.xp6(1),r.hij(" ",t.name," ")}}let d=(()=>{class t{constructor(t,e){this.appData=t,this.router=e,this.categories=[]}ngOnInit(){this.appData.getCategories().subscribe(t=>{this.categories=t,this.activeCategory=t[0]})}makeCategoryActive(t){this.activeCategory=t}goCategoryPage(t,e){e&&this.router.navigate([`store/goods/${t}/${e}`]),e||this.router.navigate([`store/goods/${t}`])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.U),r.Y36(n.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-categories-page"]],decls:8,vars:3,consts:[[1,"container-xxl"],[1,"row"],["class","mb-4",4,"ngIf"],[1,"col-md-8"],["class","subcategories-list list-group list-group-flush",4,"ngIf"],[1,"col-md-4"],[1,"list-group"],["class","list-group-item",3,"ngClass","click","mouseover",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"subcategories-list","list-group","list-group-flush"],["class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"],[1,"list-group-item",3,"ngClass","click","mouseover"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.YNc(2,c,2,1,"h1",2),r.TgZ(3,"div",3),r.YNc(4,g,2,1,"ul",4),r.qZA(),r.TgZ(5,"div",5),r.TgZ(6,"ul",6),r.YNc(7,u,2,4,"li",7),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngIf",e.activeCategory),r.xp6(2),r.Q6J("ngIf",e.activeCategory),r.xp6(3),r.Q6J("ngForOf",e.categories))},directives:[o.O5,o.sg,o.mk],styles:[".list-group-item.active[_ngcontent-%COMP%]{font-weight:700;background-color:#ff4c3b;border-color:#ff4c3b}.list-group-item[_ngcontent-%COMP%]{cursor:pointer}.subcategories-list[_ngcontent-%COMP%]{min-height:60vh}.subcategories-list[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]{position:relative;z-index:1;transition:all .1s ease-in}.subcategories-list[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:hover{z-index:2;border-left:.5rem solid #ff4c3b;box-shadow:0 0 8px #00000026;transform:scale(1.03)}"]}),t})();var m=i(5319),h=i(9491);function p(t,e){1&t&&(r.O4$(),r.TgZ(0,"svg",3),r._UZ(1,"path",4),r.qZA())}function f(t,e){1&t&&(r.O4$(),r.TgZ(0,"svg",5),r._UZ(1,"path",6),r.qZA())}let b=(()=>{class t{constructor(){this.rating=0}generateStars(t){return new Array(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-good-rating"]],inputs:{rating:"rating"},decls:3,vars:2,consts:[[1,"raiting"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-star-fill me-1","viewBox","0 0 16 16",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-star me-1","viewBox","0 0 16 16",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-star-fill","me-1"],["d","M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-star","me-1"],["d","M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.YNc(1,p,2,0,"svg",1),r.YNc(2,f,2,0,"svg",2),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngForOf",e.generateStars(e.rating)),r.xp6(1),r.Q6J("ngForOf",e.generateStars(5-e.rating)))},directives:[o.sg],styles:[".raiting[_ngcontent-%COMP%]{color:#ff4c3b}"]}),t})();function v(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",4),r.NdJ("click",function(){return r.CHM(t),r.oxw().goCategoryPage()}),r._uU(1),r.ALo(2,"titlecase"),r.qZA()}if(2&t){const t=r.oxw();r.xp6(1),r.hij(" ",r.lcZ(2,1,t.routeParams.catId.split("-").join(" "))," ")}}function I(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",4),r.NdJ("click",function(){return r.CHM(t),r.oxw().goSubCategoryPage()}),r._uU(1),r.ALo(2,"titlecase"),r.qZA()}if(2&t){const t=r.oxw();r.xp6(1),r.hij(" ",r.lcZ(2,1,t.routeParams.subCatId.split("-").join(" "))," ")}}function C(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"img",25),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().goGoodsPage(e.id)}),r.qZA()}if(2&t){const t=r.oxw().$implicit;r.Q6J("alt",t.name)}}function _(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"img",26),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().goGoodsPage(e.id)}),r.qZA()}if(2&t){const t=r.oxw().$implicit;r.Q6J("src",t.imageUrls[0],r.LSH)("alt",t.name)}}function x(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",27),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().addToCart(e)}),r._uU(1," \u041a\u0443\u043f\u0438\u0442\u044c "),r.qZA()}}function Z(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",10),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().deleteFromCart(e)}),r._uU(1," \u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b "),r.qZA()}}function w(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",28),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().addToFavorites(e)}),r.qZA()}}function P(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",29),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().deleteFromFavorites(e)}),r.qZA()}}function k(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",11),r.TgZ(1,"div",12),r.YNc(2,C,1,1,"img",13),r.YNc(3,_,1,2,"img",14),r.TgZ(4,"div",15),r._UZ(5,"app-good-rating",16),r.TgZ(6,"p",17),r._uU(7," in stock "),r.qZA(),r.qZA(),r.TgZ(8,"h5",18),r._uU(9),r.ALo(10,"currency"),r.qZA(),r.TgZ(11,"h6",19),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().goGoodsPage(e.id)}),r._uU(12),r.qZA(),r.TgZ(13,"div",20),r.YNc(14,x,2,0,"button",21),r.YNc(15,Z,2,0,"button",22),r.YNc(16,w,1,0,"button",23),r.YNc(17,P,1,0,"button",24),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,i=r.oxw();r.xp6(2),r.Q6J("ngIf",0===t.imageUrls.length),r.xp6(1),r.Q6J("ngIf",t.imageUrls[0]),r.xp6(2),r.Q6J("rating",t.rating),r.xp6(1),r.Udp("color",t.availableAmount>16?"#08a75d":t.availableAmount>8?"#ffc107":"#ff4c3b"),r.xp6(3),r.hij(" ",r.xi3(10,11,t.price,"BYN ")," "),r.xp6(3),r.hij(" ",i.cropHeading(t.name)," "),r.xp6(2),r.Q6J("ngIf",!1===t.isInCart),r.xp6(1),r.Q6J("ngIf",!0===t.isInCart),r.xp6(1),r.Q6J("ngIf",!1===t.isFavorite),r.xp6(1),r.Q6J("ngIf",!0===t.isFavorite)}}let M=(()=>{class t{constructor(t,e,i,o){this.appData=t,this.userService=e,this.router=i,this.route=o,this.counter=1,this.itemsQty=8,this.shopItems=[],this.maxHeadingLength=56,this.isReversed=!1,this.routeSubscription=m.w.EMPTY,this.shopItemsSubscription=m.w.EMPTY}ngOnInit(){this.routeSubscription=this.route.params.subscribe(t=>{this.counter=1,this.routeParams=t,this.shopItems=[],this.addItems(this.routeParams)})}ngOnDestroy(){this.shopItemsSubscription.unsubscribe(),this.routeSubscription.unsubscribe()}addItems(t){t.subCatId?this.getSubcategoryItems():this.getCategoryItems()}addMoreItems(t){this.shopItems=this.shopItems.concat(t.slice(this.itemsQty*(this.counter-1)))}getSubcategoryItems(){this.shopItemsSubscription=this.appData.getGoodsBySubcategory(this.routeParams.catId,this.routeParams.subCatId,this.itemsQty*this.counter).subscribe(t=>this.addMoreItems(t))}getCategoryItems(){this.shopItemsSubscription=this.appData.getGoodsByCategory(this.routeParams.catId,this.itemsQty*this.counter).subscribe(t=>this.addMoreItems(t))}cropHeading(t){return t.length>this.maxHeadingLength?`${t.substring(0,this.maxHeadingLength)}...`:t}slideImages(t){t.imageUrls=t.imageUrls.slice(1).concat(t.imageUrls.slice(0,1))}sortByRating(){this.shopItems.sort((t,e)=>t.rating<e.rating?-1:t.rating>e.rating?1:0),this.isReversed&&this.shopItems.reverse(),this.isReversed=!this.isReversed}sortByPrice(){this.shopItems.sort((t,e)=>t.price<e.price?-1:t.price>e.price?1:0),this.isReversed&&this.shopItems.reverse(),this.isReversed=!this.isReversed}increaseCounter(){this.counter+=1,this.addItems(this.routeParams)}addToCart(t){this.userService.addCartItem({id:t.id,amount:1}).subscribe(),t.isInCart=!t.isInCart}deleteFromCart(t){this.userService.deleteCartItem(t.id).subscribe(),t.isInCart=!t.isInCart}addToFavorites(t){this.userService.addFavoritesItem({id:t.id,amount:1}).subscribe(),t.isFavorite=!t.isFavorite}deleteFromFavorites(t){this.userService.deleteFavoritesItem(t.id).subscribe(),t.isFavorite=!t.isFavorite}goGoodsPage(t){this.router.navigate([`store/item/${t}`])}goMainPage(){this.router.navigate([""])}goCategoryPage(){this.router.navigate([`store/goods/${this.routeParams.catId}`])}goSubCategoryPage(){this.router.navigate([`store/goods/${this.routeParams.catId}/${this.routeParams.subCatId}`])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.U),r.Y36(h.K),r.Y36(n.F0),r.Y36(n.gz))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-category-page"]],decls:17,vars:3,consts:[[1,"container-xxl"],[1,"row"],["aria-label","breadcrumb",1,"col-6"],[1,"breadcrumb"],[1,"breadcrumb-item","btn","btn-link",3,"click"],["class","breadcrumb-item btn btn-link",3,"click",4,"ngIf"],[1,"sort","col-6"],[1,"btn","btn-link",3,"click"],["class","good col-lg-3 col-md-4 col-sm-6 my-3",4,"ngFor","ngForOf"],[1,"d-grid","gap-2","col-lg-6","col-12","mx-auto"],[1,"btn","btn-outline-danger",3,"click"],[1,"good","col-lg-3","col-md-4","col-sm-6","my-3"],[1,"card","border-light","shadow","p-3"],["class","card-img-top img-fluid mb-3","src","../../../../assets/img-not-found.png",3,"alt","click",4,"ngIf"],["class","card-img-top img-fluid mb-3",3,"src","alt","click",4,"ngIf"],[1,"d-flex","justify-content-between"],[3,"rating"],[1,"fw-bold"],[1,"good__price","h5","fw-bold"],[1,"good__heading","h6",3,"click"],[1,"btn-group"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],["class","btn btn-light",3,"click",4,"ngIf"],["class","btn btn-light isFavorite",3,"click",4,"ngIf"],["src","../../../../assets/img-not-found.png",1,"card-img-top","img-fluid","mb-3",3,"alt","click"],[1,"card-img-top","img-fluid","mb-3",3,"src","alt","click"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-light",3,"click"],[1,"btn","btn-light","isFavorite",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"nav",2),r.TgZ(3,"ol",3),r.TgZ(4,"li",4),r.NdJ("click",function(){return e.goMainPage()}),r._uU(5," Home "),r.qZA(),r.YNc(6,v,3,3,"li",5),r.YNc(7,I,3,3,"li",5),r.qZA(),r.qZA(),r.TgZ(8,"div",6),r.TgZ(9,"button",7),r.NdJ("click",function(){return e.sortByRating()}),r._uU(10," \u043f\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438 "),r.qZA(),r.TgZ(11,"button",7),r.NdJ("click",function(){return e.sortByPrice()}),r._uU(12,"\u043f\u043e \u0446\u0435\u043d\u0435"),r.qZA(),r.qZA(),r.YNc(13,k,18,14,"div",8),r.TgZ(14,"div",9),r.TgZ(15,"button",10),r.NdJ("click",function(){return e.increaseCounter()}),r._uU(16," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435 "),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(6),r.Q6J("ngIf",e.routeParams.catId),r.xp6(1),r.Q6J("ngIf",e.routeParams.subCatId),r.xp6(6),r.Q6J("ngForOf",e.shopItems))},directives:[o.O5,o.sg,b],pipes:[o.rS,o.H9],styles:[".btn-outline-danger[_ngcontent-%COMP%]{border-color:#ff4c3b;color:#ff4c3b}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#ee4334;border-color:#ee4334;color:#fff}.btn-link[_ngcontent-%COMP%]{color:#ff4c3b}.btn-link[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #ff4d5640}.sort[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.sort[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{padding:.5rem;font-weight:700;text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{padding:0}.good[_ngcontent-%COMP%]{transition:all .1s ease-in}.good__heading[_ngcontent-%COMP%]{line-height:1.5rem;min-height:3rem;margin:0;font-weight:600;transition:all .15s ease-in;cursor:pointer}.good__heading[_ngcontent-%COMP%]:hover{text-decoration:underline}.good[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{max-height:0;padding:0;overflow:hidden;border:none;transition:all .15s ease-in}.good[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#ff4c3b}.good[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:#ee4334;border:1px solid #ee4334}.good[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]{border-color:#ff4c3b}.good[_ngcontent-%COMP%]   .btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#ee4334;border:1px solid #ee4334}.good[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{width:4rem;max-width:25%;background-image:url(favorites.cd44208b6f78028deb62.svg);background-position:50%;background-repeat:no-repeat;background-size:1.25rem}.good[_ngcontent-%COMP%]   .btn-light.isFavorite[_ngcontent-%COMP%]{background-image:url(favorites-active.67d4f99e130b69fdac76.svg)}.good[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:15rem;object-fit:contain;-webkit-user-select:none;user-select:none;transition:all .15s ease-in;cursor:pointer}.good[_ngcontent-%COMP%]:hover   .btn[_ngcontent-%COMP%]{max-height:2.25rem;padding:.375rem .75rem;border:1px solid #ee4334}.good[_ngcontent-%COMP%]:hover   .good__heading[_ngcontent-%COMP%]{margin-bottom:1rem}.good[_ngcontent-%COMP%]:hover   .card-img-top[_ngcontent-%COMP%]{height:11.75rem}"]}),t})();function O(t,e){if(1&t&&r._UZ(0,"img",19),2&t){const t=r.oxw(2);r.Q6J("alt",t.shopItem.name)}}function y(t,e){if(1&t&&r._UZ(0,"img",20),2&t){const t=r.oxw(2);r.Q6J("src",t.activeImageUrl,r.LSH)("alt",t.shopItem.name)}}function F(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"img",21),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(2).activateImage(e)}),r.qZA()}2&t&&r.Q6J("src",e.$implicit,r.LSH)}function A(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",22),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).addToCart()}),r._uU(1," add to cart "),r.qZA()}}function T(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",23),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).deleteFromCart()}),r._uU(1," remove from cart "),r.qZA()}}function q(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",24),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).addToFavorites()}),r._uU(1," add to wishlist "),r.qZA()}}function J(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",25),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).deleteFromFavorites()}),r._uU(1," remove from wishlist "),r.qZA()}}function U(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",1),r.TgZ(1,"div",2),r.TgZ(2,"div",3),r.TgZ(3,"figure",4),r.NdJ("click",function(){return r.CHM(t),r.oxw().showNextImage()}),r.YNc(4,O,1,1,"img",5),r.YNc(5,y,1,2,"img",6),r.qZA(),r.TgZ(6,"div",7),r.YNc(7,F,1,1,"img",8),r.qZA(),r.qZA(),r.TgZ(8,"div",9),r.TgZ(9,"h2",10),r._uU(10),r.qZA(),r._UZ(11,"app-good-rating",11),r.TgZ(12,"h3",12),r._uU(13),r.ALo(14,"currency"),r.qZA(),r.TgZ(15,"h4",13),r._uU(16,"Description:"),r.qZA(),r.TgZ(17,"p"),r._uU(18),r.qZA(),r.TgZ(19,"div",14),r.YNc(20,A,2,0,"button",15),r.YNc(21,T,2,0,"button",16),r.YNc(22,q,2,0,"button",17),r.YNc(23,J,2,0,"button",18),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(4),r.Q6J("ngIf",""===t.activeImageUrl),r.xp6(1),r.Q6J("ngIf",""!==t.activeImageUrl),r.xp6(2),r.Q6J("ngForOf",t.shopItem.imageUrls),r.xp6(3),r.Oqu(t.shopItem.name),r.xp6(1),r.Q6J("rating",t.shopItem.rating),r.xp6(2),r.Oqu(r.xi3(14,11,t.shopItem.price,"BYN ")),r.xp6(5),r.Oqu(t.shopItem.description),r.xp6(2),r.Q6J("ngIf",!1===t.shopItem.isInCart),r.xp6(1),r.Q6J("ngIf",!0===t.shopItem.isInCart),r.xp6(1),r.Q6J("ngIf",!1===t.shopItem.isFavorite),r.xp6(1),r.Q6J("ngIf",!0===t.shopItem.isFavorite)}}const N=[{path:"categories",component:d},{path:"goods/:catId",component:M},{path:"goods/:catId/:subCatId",component:M},{path:"item/:itemId",component:(()=>{class t{constructor(t,e,i,o){this.appData=t,this.userService=e,this.router=i,this.route=o,this.activeImageUrl=""}ngOnInit(){this.routeSubscription=this.route.params.subscribe(t=>{this.routeParams=t,this.shopItemSubscription=this.appData.getShopItemById(t.itemId).subscribe(t=>{this.shopItem=t,t.imageUrls[0]&&(this.activeImageUrl=t.imageUrls[0])})})}ngOnDestroy(){this.shopItemSubscription.unsubscribe(),this.routeSubscription.unsubscribe()}activateImage(t){this.activeImageUrl=t}showNextImage(){const t=this.shopItem.imageUrls.length,e=this.shopItem.imageUrls.indexOf(this.activeImageUrl);this.activeImageUrl=this.shopItem.imageUrls.slice(e+1<t?e+1:0)[0]}addToCart(){this.userService.addCartItem({id:this.shopItem.id,amount:1}).subscribe(),this.shopItem.isInCart=!this.shopItem.isInCart}deleteFromCart(){this.userService.deleteCartItem(this.shopItem.id).subscribe(),this.shopItem.isInCart=!this.shopItem.isInCart}addToFavorites(){this.userService.addFavoritesItem({id:this.shopItem.id,amount:1}).subscribe(),this.shopItem.isFavorite=!this.shopItem.isFavorite}deleteFromFavorites(){this.userService.deleteFavoritesItem(this.shopItem.id).subscribe(),this.shopItem.isFavorite=!this.shopItem.isFavorite}goMainPage(){this.router.navigate([""])}goCategoryPage(){this.router.navigate([`store/goods/${this.routeParams.catId}`])}goSubCategoryPage(){this.router.navigate([`store/goods/${this.routeParams.catId}/${this.routeParams.subCatId}`])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.U),r.Y36(h.K),r.Y36(n.F0),r.Y36(n.gz))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-good-page"]],decls:1,vars:1,consts:[["class","container-xxl",4,"ngIf"],[1,"container-xxl"],[1,"row"],[1,"col-md-6","good__gallery"],[1,"good__gallery_wrap","figure",3,"click"],["class","figure-img img-fluid rounded","src","../../../../assets/img-not-found.png",3,"alt",4,"ngIf"],["class","figure-img img-fluid rounded",3,"src","alt",4,"ngIf"],[1,"good__gallery_thumbnails"],["class","rounded img-thumbnail good__gallery_thumbnail","alt","thumbnail",3,"src","click",4,"ngFor","ngForOf"],[1,"col-md-6","mt-4"],[1,"h1","fw-bold"],[3,"rating"],[1,"h3","fw-bold","my-4"],[1,"h4","fw-bold"],[1,"d-grid","gap-2","d-md-block"],["class","btn btn-danger me-3",3,"click",4,"ngIf"],["class","btn btn-outline-danger me-3",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],["src","../../../../assets/img-not-found.png",1,"figure-img","img-fluid","rounded",3,"alt"],[1,"figure-img","img-fluid","rounded",3,"src","alt"],["alt","thumbnail",1,"rounded","img-thumbnail","good__gallery_thumbnail",3,"src","click"],[1,"btn","btn-danger","me-3",3,"click"],[1,"btn","btn-outline-danger","me-3",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,e){1&t&&r.YNc(0,U,24,14,"div",0),2&t&&r.Q6J("ngIf",e.shopItem)},directives:[o.O5,o.sg,b],pipes:[o.H9],styles:[".btn[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;border:2px solid #ee4334}.btn-danger[_ngcontent-%COMP%]{background-color:#ee4334}.btn-danger[_ngcontent-%COMP%]:hover{color:#fff}.btn-outline-danger[_ngcontent-%COMP%]{background-color:#fff}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#ee4334}.good__gallery[_ngcontent-%COMP%]{display:flex}.good__gallery_wrap[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;order:1;width:100%;height:100%;max-height:34rem;padding:1rem;border-radius:.5rem;background:#fff;transition:all .3s ease-in-out;cursor:pointer}.good__gallery_wrap[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px #00000026}.good__gallery_wrap[_ngcontent-%COMP%] > .figure-img[_ngcontent-%COMP%]{width:100%;height:24rem;object-fit:contain}.good__gallery_thumbnails[_ngcontent-%COMP%]{display:flex;flex-direction:column;order:0;min-width:6rem;margin-right:1rem}.good__gallery_thumbnail[_ngcontent-%COMP%]{width:6rem;height:6rem;margin:.25rem;object-fit:contain;transition:all .3s ease-in-out;cursor:pointer}.good__gallery_thumbnail[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 0 10px #00000040}"]}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.Bz.forChild(N)],n.Bz]}),t})(),Y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.ez,S]]}),t})()}}]);